/usr/local/lib/python2.7/dist-packages/h5py/__init__.py:36: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
Using TensorFlow backend.
/home/ubuntu/Duyen/MusicImprov/scripts/xml_io.py:104: Music21DeprecationWarning: _getMidi was deprecated on May 2014 and will disappear at or after September 2017, v.5. use pitch.midi instead
  max(n.midi, note_sequence[int(n.offset * args.steps_per_bar / 4)])
2018-07-15 10:03:17.398393: I tensorflow/core/platform/cpu_feature_guard.cc:140] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_1 (LSTM)                (None, None, 2014)        17288176  
_________________________________________________________________
time_distributed_1 (TimeDist (None, None, 131)         263965    
=================================================================
Total params: 17,552,141
Trainable params: 17,552,141
Non-trainable params: 0
_________________________________________________________________
(1421,)
(50,)
================================================================================
EPOCH 0
Epoch 1/1
 - 5893s - loss: 1.6918 - acc: 0.5182
/usr/local/lib/python2.7/dist-packages/keras/callbacks.py:435: RuntimeWarning: Can save best model only with val_loss available, skipping.
  'skipping.' % (self.monitor), RuntimeWarning)
/usr/local/lib/python2.7/dist-packages/keras/callbacks.py:526: RuntimeWarning: Early stopping conditioned on metric `val_loss` which is not available. Available metrics are: acc,loss
  (self.monitor, ','.join(list(logs.keys()))), RuntimeWarning
###Test Score:  y=[64, -1, 62, -1, 64, -1, -1, 67, 64, -1, 62, -1, 60, -1, -1, 64, 62, -1, 60, -1, 62, 64, -1, 64, -1, -1, -1, 60, -1, 59, -1, 57, -1, 60, 65, -1, -1, 69, -1, 67, -1, -1, 64, -1, -1, -1, -1, 62, -1, -1, -1, -1, -1, 64, -1, 62, -1, -1, -1, -1, -1, -1, -1, 67, 64, -1, 62, -1, 64, -1, -1, 67, 64, -1, 62, -1, 60, -1, -1, 64, 62, -1, 60, -1, 62, 64, -1, 64, -1, -1, -1, 60, -1, 59, -1, 57, -1, 60, 65, -1, -1, 69, -1, 67, -1, 71, 72, -1, -1, -1, -1, 64, -1, 62, -1, 60, -1, 62, -1, 60, -1, -1, -1, 60, -1, 64, -1, 67, -1, -1, -1, -1, -1, 67, -1, 69, -1, -1, 72, -1, -1, 69, -1, 67, -1, -1, -1, 67, 64, -1, -1, 62, -1, -1, -1, 60, -1, 64, -1, 67, -1, -1, -1, -1, -1, 67, -1, 69, -1, -1, 72, -1, -1, 69, -1, 67, -1, -1, -1, 67, 72, -1, -1, 74, -1, -1, -1, 74, -1, 69, -1, 72, -1, -1, -1, -1, -1, 72, -1, 69, -1, 67, 65, -1, -1, 64, -1, 64, -1, 64, 64, 62, -1, 64, -1, 62, 60, -1, 60, -1, -1, -1, -1, 57, -1, 60, -1, 60, -1, 64, -1, 62, -1, 60, -1, 59, -1, 62, -1, 60, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, 69, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, 69, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
y=[-1, 60, -1, 62, -1, 64, -1, 67, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, 60, 62, -1, 64, -1, 57, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, -1, 62, -1, 64, -1, 67, -1, 69, -1, 67, -1, 64, -1, 62, -1, 60, -1, 57, -1, 60, -1, 62, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, -1, 62, -1, 64, -1, 67, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, 60, 62, -1, 64, -1, 57, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, -1, 62, -1, 64, -1, 67, -1, 69, -1, 67, -1, 64, -1, 62, -1, 60, -1, 57, -1, 59, -1, 60, -1, -1, -1, -1, -1, -1, -1, -2, -1, 67, -1, 69, -1, 71, -1, 72, -1, -1, -1, -1, -1, -1, -1, -2, -1, 71, -1, 69, 69, 64, -1, 67, -1, -1, -1, -1, -1, -1, -1, -2, -1, 67, -1, 69, -1, 71, -1, 72, -1, -1, -1, -1, -1, -1, -1, -2, -1, 71, 71, 69, -1, 71, -1, 67, -1, -1, -1, -1, -1, -1, -1, -2, -1, 64, -1, 62, -1, 64, -1, 67, -1, -1, -1, -1, -1, -1, -1, -2, -1, 64, -1, 62, -1, 64, -1, 60, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, -1, 62, -1, 64, -1, 67, -1, 69, -1, 67, -1, 64, -1, 62, -1, 60, -1, 57, -1, 59, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 64, -1, -1, -1, 60, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 69, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1]
y=[-1, 64, -1, 64, 64, -1, -1, 64, -1, 64, -1, 60, -1, -1, -1, 55, -1, 57, -1, -1, 60, -1, -1, 62, -1, 60, -1, -1, -1, -1, -1, 55, -1, 65, -1, 64, 60, -1, -1, 60, -1, 65, -1, 64, 60, -1, -1, 60, -1, 62, -1, 62, 62, -1, -1, 62, -1, 62, -1, -1, -1, -1, -1, 62, -1, -2, -1, 62, 62, 64, -1, 65, -1, 67, -1, -1, 60, -1, -1, 60, -1, -2, -1, 60, -1, 60, -1, 60, -1, 60, -1, -1, -1, -1, -1, 60, -1, -2, -1, -1, -1, -1, -1, 55, -1, 57, -1, -1, 57, -1, -1, 57, 60, 59, -1, -1, 55, -1, -1, 55, -1, 57, 57, 57, 57, 57, -1, 60, -1, 59, -1, 57, 55, -1, -1, 55, 55, 57, -1, 60, 65, -1, -1, 64, -1, 60, -1, -1, -1, -1, -1, 60, -1, 62, -1, 62, 62, -1, -1, 62, -1, 62, -1, -1, -1, -1, -1, 62, -1, -2, -1, 62, 62, 64, -1, 65, -1, 67, -1, -1, 64, -1, -1, 64, -1, -2, -1, 64, -1, 62, -1, 60, 57, -1, -1, -1, -1, -1, -1, 55, -1, 57, -1, -1, 65, -1, -1, 64, -1, 62, -1, -1, 60, -1, -1, 59, -1, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -2, -1, 67, -1, -1, 64, -1, -1, 64, -1, -2, -1, 65, -1, 64, -1, 60, -1, 62, -1, 64, 62, -1, -1, 62, -1, -1, -1, -1, -1, -1, -1, -2, -1, 67, -1, -1, 64, -1, -1, 64, -1, -2, -1, 65, -1, 64, -1, 60, -1, 62, -1, 64, 55, -1, -1, 55, -1, -1, -1, -1, -1, -1, -1, 55, -1, 57, -1, -1, 60, -1, -1, 60, -1, -1, -1, -1, -1, 60, -1, 62, -1, 62, -1, -1, -1, -1, -1, 62, -1, -1, -1, -1, -1, -1, -1, 62, -1, 65, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, 65, -1, 67, -1, 67, -1, -1, -1, -1, -1, 67, -1, 65, 64, 60, -1, 65, 64, 64, -1, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, -1, -1, 64, -1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
y=[-1, -1, -1, -1, -1, 60, -1, 62, -1, 64, 62, -1, -1, 60, -1, 60, -1, -1, -1, -1, -1, 64, -1, 62, -1, -1, -1, -1, -1, 60, -1, 69, -1, 69, 69, -1, -1, 65, -1, 64, -1, 62, 64, -1, -1, 65, -1, 67, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, 60, -1, 69, -1, 69, 69, -1, -1, 65, -1, 64, -1, 62, -1, -1, -1, 64, 65, 67, -1, 67, 67, -1, -1, 64, -1, 62, -1, 60, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, 59, -1, 60, -1, -1, 62, -1, -1, 64, -1, -1, -1, -1, -1, 65, -1, 67, -1, -1, -1, -1, -1, 60, -1, 69, -1, -1, 69, -1, -1, 65, -1, 64, -1, 62, -1, -1, -1, -1, -1, 67, -1, -1, 67, -1, -1, 64, -1, 62, -1, 60, -1, -1, -1, -1, -1, 65, -1, 65, 65, -1, -1, 60, -1, 59, -1, 59, 60, -1, -1, 62, -1, 64, -1, -1, -1, -1, -1, 65, -1, 67, -1, -1, -1, -1, -1, 60, -1, 69, -1, -1, 69, -1, -1, 65, -1, 64, -1, 62, -1, -1, -1, -1, -1, 67, -1, -1, 67, -1, -1, 64, -1, 62, -1, 60, -1, -1, -1, -1, -1, 65, -1, 65, 65, -1, -1, 60, -1, 59, -1, 59, 60, -1, -1, 62, -1, 60, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
y=[-1, 60, -1, 60, -1, 60, 60, 62, -1, 64, 65, 64, -1, 62, -1, 64, -1, 64, -1, 67, -1, -1, -1, 60, -1, 60, -1, 62, -1, -1, 55, 60, -1, 60, -1, 60, -1, 60, -1, 62, -1, 64, 65, 64, -1, 62, -1, 64, -1, -1, -1, 67, -1, 67, -1, 60, 60, 60, -1, 62, -1, -1, -1, 64, -1, 64, -1, 67, -1, 67, -1, 65, -1, 64, -1, 65, 64, 62, -1, 64, -1, 64, -1, 67, -1, 67, -1, 65, -1, 64, -1, 62, -1, -1, 55, 60, -1, 60, -1, 60, -1, 60, -1, 62, -1, 64, 65, 64, -1, 62, -1, 64, -1, -1, -1, 67, -1, 67, -1, 60, 60, 60, -1, 62, -1, -1, -1, 60, -1, -1, -1, 67, -1, -1, -1, 65, -1, 67, 69, 67, -1, 62, -1, 64, -1, 67, -1, 72, -1, 71, 69, 67, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, 67, -1, -1, -1, 65, -1, 67, 69, 67, -1, 62, -1, 64, -1, 60, 60, 65, -1, -1, -1, 64, 62, 60, 59, 60, -1, -1, -1, 60, -1, 59, 60, 59, -1, 55, -1, 57, -1, 59, 60, 59, -1, 55, -1, -2, -1, 64, -1, 64, -1, 64, -1, 64, 62, 65, 64, 62, 60, 59, -1, 60, -1, 59, 60, 59, -1, 55, -1, 57, -1, 59, 60, 59, -1, 55, -1, -2, -1, 67, -1, 65, -1, 64, -1, 57, 59, 60, 62, 60, -1, -1, -1, -3], yhat=[-1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 65, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, -1, -1, -1, -1, 64, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1]
y=[53, 55, -1, 64, -1, 60, -1, 62, 60, 60, -1, 59, -1, 59, -1, 50, 52, 53, -1, 62, -1, 59, -1, 60, 59, 57, -1, 55, -1, 55, -1, 52, 53, 55, -1, 60, 62, 64, -1, 62, 60, 57, -1, 62, 64, 65, -1, 64, 62, 55, -1, 65, -1, 64, -1, 62, -1, 60, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, 60, 64, -1, 60, -1, 62, -1, -1, 62, 62, -1, 62, -1, 62, -1, -1, 62, 65, -1, 62, -1, 64, -1, -1, 64, 64, -1, 64, -1, 64, -1, -1, 64, 67, -1, 64, -1, 65, -1, -1, 65, 65, -1, 64, 62, 55, -1, -1, -1, 59, -1, 59, -1, 60, -1, -1, -1, -1, -1, -3], yhat=[-1, -1, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, 60, -1, 60, -1, -1, -1, 55, -1, 60, -1, 60, -1, -1, -1, 55, -1, 55, -1, 55, -1, 55, -1, 55, -1, -1, -1, -1, -1, 60, -1, 60, -1, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, -1, -1, -1]
y=[-1, 55, -1, 67, -1, 64, -1, 62, -1, -1, 60, 60, -1, -1, -1, -2, -1, 64, 65, 64, -1, -1, 62, 60, -1, -1, 59, 57, -1, -1, -1, -2, -1, 59, -1, 60, -1, 62, -1, 59, -1, -1, 57, 57, -1, -1, -1, -2, -1, 59, -1, 60, -1, 62, -1, 64, -1, -1, 64, 64, 65, 64, -1, 62, -1, -2, 55, 67, -1, 64, -1, 62, -1, -1, 60, 60, -1, -1, -1, -2, -1, 64, 65, 64, -1, -1, 62, 60, -1, -1, 59, 57, -1, -1, -1, -2, -1, 57, -1, 69, -1, 64, -1, 65, -1, -1, 64, 65, -1, -1, 64, 62, -1, -1, -1, 60, -1, 59, -1, 60, -1, -1, -1, -1, -1, -1, -1, -2, -1, 60, -1, 72, -1, 67, -1, 67, -1, -1, 69, 69, -1, -1, -1, -2, -1, 71, 72, 71, -1, 69, -1, 67, -1, -1, 65, 64, -1, -1, -1, -2, -1, 64, -1, 65, -1, 67, -1, 65, -1, -1, 64, 62, -1, -1, -1, -2, -1, 65, 65, 64, -1, 60, -1, 62, -1, -1, -1, -1, -1, -1, -1, -2, -1, 55, -1, 67, -1, 64, -1, 62, -1, -1, 60, 60, -1, -1, -1, -2, -1, 64, 65, 64, -1, -1, 62, 60, -1, -1, 59, 57, -1, -1, -1, -2, -1, 57, -1, 69, -1, 64, -1, 65, -1, -1, 64, 65, -1, -1, 64, 62, -1, -1, 62, 60, -1, 59, -1, 60, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 64, -1, -1, -1, 67, -1, 64, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 64, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 69, -1, -1, -1, -1, -1, -1, -1, 69, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, 67, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, 64, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
y=[-1, 64, -1, 65, -1, 67, -1, 67, -1, -1, 62, 62, -1, -1, -1, -2, -1, 69, -1, 71, -1, 72, -1, 72, -1, -1, 67, 67, -1, -1, -1, -2, -1, 65, -1, 67, -1, 69, -1, 67, -1, -1, 65, 64, -1, -1, -1, -2, -1, 65, -1, 64, -1, 60, -1, 62, -1, -1, -1, -1, -1, -1, -1, -2, -1, 69, -1, 71, -1, 72, -1, 72, -1, -1, 67, 67, -1, -1, -1, -2, -1, 65, -1, 67, -1, 69, -1, 67, -1, -1, 65, 64, -1, -1, -1, -2, -1, 65, -1, 64, -1, 62, -1, 67, -1, -1, 60, 60, -1, -1, -1, -2, -1, 65, -1, 64, -1, 62, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 64, -1, 64, -1, 64, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 69, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 67, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
y=[62, 63, 62, 60, -1, -1, 63, 62, 60, -1, -1, -1, 62, 63, 62, 60, 58, 62, 60, 58, -1, -1, 62, 60, 58, 58, -1, -1, 60, 62, 60, 58, -1, 60, -1, -1, -1, -1, -1, 63, -1, 62, -1, -1, -1, 58, -1, 55, -1, 60, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, -2, -1, 62, -1, 63, 62, 60, -1, -1, 63, 62, 60, -1, -1, 60, 62, 63, 62, 60, 58, 62, 60, 58, -1, -1, 62, 60, 58, 58, -1, -1, 60, 62, 60, 58, -1, 60, -1, -1, -1, -1, -1, 63, -1, 62, -1, -1, -1, 58, -1, 55, -1, 60, -1, -1, -1, -1, -1, 60, -1, 60, -1, -1, -1, -2, -1, 63, 65, 67, -1, 67, 68, -1, 67, 65, 65, -1, -1, -1, -1, -1, -1, -2, 65, 63, -1, 65, 67, 65, -1, 63, -1, 65, -1, 63, 60, -1, -1, 60, 62, 63, -1, -1, -1, -1, 65, 65, 63, 62, -1, -1, 62, 62, -1, 58, -1, 60, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 64, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
y=[67, 64, 65, -1, 67, -1, 67, 67, -1, 64, 60, -1, 60, 62, 64, 65, 65, -1, 64, 64, 62, -1, 60, 64, -1, -1, 62, 62, -1, -1, -1, 67, 64, 65, 67, -1, -1, -1, 67, 67, -1, 64, 60, -1, -1, 62, 64, 65, -1, -1, -1, -1, 64, 62, 60, 62, -1, -1, -1, -1, -1, 69, 71, 72, -1, -1, -1, -1, -1, 72, 72, 71, 67, -1, -1, -1, -1, -2, 64, 69, 69, 69, 69, -1, 67, 65, -1, 67, -1, -1, -1, -1, -1, 62, 64, 65, 65, 65, -1, -1, -1, 67, 69, 67, 64, -1, -1, -1, -1, 62, 64, 65, 64, 62, -1, -1, -1, 60, -1, 62, -1, -1, -1, -2, 67, 69, 71, 72, 72, -1, -1, -1, -1, 72, -1, 71, 67, -1, -1, -1, -1, 64, -1, 67, -1, 67, 67, -1, 67, 69, -1, 60, -1, -1, -1, -1, -1, 62, 64, 65, 65, -1, 64, 64, 62, -1, 60, 64, 62, -1, -1, -1, -1, 60, 59, 60, -1, -1, -1, -1, -1, -1, -1, 60, -1, -1, -1, -1, -1, -1, -1, -3], yhat=[-1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 65, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, 69, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 67, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1]
(11832,)
(11832,)
f1 score Confusion matrix
*0   0    50   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    *0   197  0    0    0    0    0    0    0    0    0    0    0    1    0    0    0    0    0    0    2    0    0    0    0    0    0    0    
0    0    *63870    0    0    0    0    0    0    83   0    0    0    72   0    0    0    25   10   0    58   0    12   0    0    0    0    0    
0    0    1    *0   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    6    0    *0   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    50   0    0    *0   0    0    0    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    37   0    0    0    *0   0    0    0    7    0    0    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    87   0    0    0    0    *0   0    0    20   0    0    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    62   0    0    0    0    0    *0   0    21   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    2    0    0    0    0    0    0    *0   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    269  0    0    0    0    0    0    0    *48  0    0    0    22   0    0    0    3    0    0    0    0    0    0    0    0    0    0    
0    0    264  0    0    0    0    0    0    0    32   *0   0    0    9    0    0    0    1    0    0    0    0    0    0    0    0    0    0    
0    0    12   0    0    0    0    0    0    0    0    0    *0   0    3    0    0    0    0    0    0    0    0    0    0    0    0    0/home/ubuntu/.local/lib/python2.7/site-packages/sklearn/metrics/classification.py:1115: UndefinedMetricWarning: Recall is ill-defined and being set to 0.0 in labels with no true samples.
  'recall', 'true', average, warn_for)
/home/ubuntu/.local/lib/python2.7/site-packages/sklearn/metrics/classification.py:1115: UndefinedMetricWarning: F-score is ill-defined and being set to 0.0 in labels with no true samples.
  'recall', 'true', average, warn_for)
    0    
0    0    241  0    0    0    0    0    0    0    11   0    0    *0   26   0    0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    882  0    0    0    0    0    0    0    35   0    0    0    *75  0    0    0    5    0    0    5    0    0    0    0    0    0    0    
0    0    3    0    0    0    0    0    0    0    0    0    0    0    0    *0   0    0    0    0    0    0    0    0    0    0    0    0    0    
0    0    701  0    0    0    0    0    0    0    9    0    0    0    28   0    *0   0    10   7    0    6    0    0    0    0    0    0    0    
0    0    28   0    0    0    0    0    0    0    0    0    0    0    0    0    0    *0   1    2    0    0    0    0    0    0    0    0    0    
0    0    673  0    0    0    0    0    0    0    1    0    0    0    11   0    0    0    *24  10   0    18   0    1    0    0    0    0    0    
0    0    350  0    0    0    0    0    0    0    0    0    0    0    7    0    0    0    2    *1   0    16   0    0    0    0    0    0    0    
0    0    8    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    *0   0    0    0    0    0    0    0    0    
0    0    382  0    0    0    0    0    0    0    0    0    0    0    1    0    0    0    8    5    0    *39  0    11   0    0    0    0    0    
0    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    *0   0    0    0    0    0    0    
0    0    166  0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    23   0    *3   0    0    0    0    0    
0    0    11   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    *0   0    0    0    0    
0    0    43   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    7    0    5    0    *0   0    0    0    
0    0    51   0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    6    0    12   0    0    *0   0    0    
0    0    4    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    *0   0    
0    0    1    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    0    *0   
(0.04532188386386803, 0.05760096483355493, 0.04190681183173732, 0.5558654496281271)
None
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Cut
Traceback (most recent call last):
  File "model/run.py", line 54, in <module>
    run()
  File "model/run.py", line 39, in run
    model.train(Data(inputs, outputs, None), Data(test_inputs, test_outputs, None), testscore)
  File "/home/ubuntu/Duyen/MusicImprov/model/lstm_model.py", line 81, in train
    self.generate_from_primer(testscore, save_name='melody' + str(i))
  File "/home/ubuntu/Duyen/MusicImprov/model/lstm_model.py", line 115, in generate_from_primer
    output = self.generate(array([to_onehot(primer, input_shape[1])]))
  File "/home/ubuntu/Duyen/MusicImprov/model/lstm_model.py", line 86, in generate
    return self.model.predict(inputs)[0]
  File "/usr/local/lib/python2.7/dist-packages/keras/models.py", line 1025, in predict
    steps=steps)
  File "/usr/local/lib/python2.7/dist-packages/keras/engine/training.py", line 1835, in predict
    verbose=verbose, steps=steps)
  File "/usr/local/lib/python2.7/dist-packages/keras/engine/training.py", line 1330, in _predict_loop
    batch_outs = f(ins_batch)
  File "/usr/local/lib/python2.7/dist-packages/keras/backend/tensorflow_backend.py", line 2478, in __call__
    **self.session_kwargs)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 905, in run
    run_metadata_ptr)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1137, in _run
    feed_dict_tensor, options, run_metadata)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1355, in _do_run
    options, run_metadata)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1374, in _do_call
    raise type(e)(node_def, op, message)
tensorflow.python.framework.errors_impl.UnimplementedError: TensorArray has size zero, but element shape [?,2014] is not fully defined. Currently only static shapes are supported when packing zero-size TensorArrays.
	 [[Node: lstm_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@lstm_1/TensorArray"], dtype=DT_FLOAT, element_shape=[?,2014], _device="/job:localhost/replica:0/task:0/device:CPU:0"](lstm_1/TensorArray, lstm_1/TensorArrayStack/range, lstm_1/while/Exit_1)]]

Caused by op u'lstm_1/TensorArrayStack/TensorArrayGatherV3', defined at:
  File "model/run.py", line 54, in <module>
    run()
  File "model/run.py", line 18, in run
    model = NoteRNN(input_shape, output_shape, 'NoteModel' + args.note)
  File "/home/ubuntu/Duyen/MusicImprov/model/lstm_model.py", line 15, in __init__
    self.define_models()
  File "/home/ubuntu/Duyen/MusicImprov/model/lstm_model.py", line 20, in define_models
    self.model.add(LSTM(args.num_units, input_shape=(None, self._input_shape[1]), return_sequences=True))
  File "/usr/local/lib/python2.7/dist-packages/keras/models.py", line 467, in add
    layer(x)
  File "/usr/local/lib/python2.7/dist-packages/keras/layers/recurrent.py", line 499, in __call__
    return super(RNN, self).__call__(inputs, **kwargs)
  File "/usr/local/lib/python2.7/dist-packages/keras/engine/topology.py", line 619, in __call__
    output = self.call(inputs, **kwargs)
  File "/usr/local/lib/python2.7/dist-packages/keras/layers/recurrent.py", line 2151, in call
    initial_state=initial_state)
  File "/usr/local/lib/python2.7/dist-packages/keras/layers/recurrent.py", line 608, in call
    input_length=timesteps)
  File "/usr/local/lib/python2.7/dist-packages/keras/backend/tensorflow_backend.py", line 2772, in rnn
    outputs = output_ta.stack()
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/tensor_array_ops.py", line 893, in stack
    return self._implementation.stack(name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/tensor_array_ops.py", line 291, in stack
    return self.gather(math_ops.range(0, self.size()), name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/tensor_array_ops.py", line 305, in gather
    element_shape=element_shape)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_data_flow_ops.py", line 4186, in _tensor_array_gather_v3
    flow_in=flow_in, dtype=dtype, element_shape=element_shape, name=name)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py", line 787, in _apply_op_helper
    op_def=op_def)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 3271, in create_op
    op_def=op_def)
  File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 1650, in __init__
    self._traceback = self._graph._extract_stack()  # pylint: disable=protected-access

UnimplementedError (see above for traceback): TensorArray has size zero, but element shape [?,2014] is not fully defined. Currently only static shapes are supported when packing zero-size TensorArrays.
	 [[Node: lstm_1/TensorArrayStack/TensorArrayGatherV3 = TensorArrayGatherV3[_class=["loc:@lstm_1/TensorArray"], dtype=DT_FLOAT, element_shape=[?,2014], _device="/job:localhost/replica:0/task:0/device:CPU:0"](lstm_1/TensorArray, lstm_1/TensorArrayStack/range, lstm_1/while/Exit_1)]]

